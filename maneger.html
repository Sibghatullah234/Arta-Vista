<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ArtaVista Manager</title>
<style>
    body {
        font-family: 'Poppins', sans-serif;
        margin: 0;
        padding: 0;
        background: #f5f5f5;
        color: #333;
        transition: background 0.3s, color 0.3s;
    }
    header {
        background: #4a148c;
        color: #fff;
        padding: 15px;
        text-align: center;
        font-size: 1.5rem;
        position: sticky;
        top: 0;
        z-index: 10;
    }
    .container {
        max-width: 1200px;
        margin: 20px auto;
        padding: 20px;
    }
    .section-title {
        font-size: 1.3rem;
        margin-bottom: 10px;
    }
    .card {
        background: #fff;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        margin-bottom: 20px;
    }
    input, select, button {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 1rem;
    }
    button {
        background: #4a148c;
        color: #fff;
        cursor: pointer;
        font-weight: bold;
    }
    button:hover {
        background: #6a1b9a;
    }
    .product-list img {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 6px;
    }
    .product-list table, .order-list table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
        text-align: left;
    }
    .dark-mode {
        background: #121212;
        color: #fff;
    }
    .dark-mode header {
        background: #1f1f1f;
    }
    .dark-mode .card {
        background: #1e1e1e;
        color: #fff;
    }
    .dark-toggle {
        position: absolute;
        top: 15px;
        right: 15px;
        background: #fff;
        color: #4a148c;
        border: none;
        padding: 8px 12px;
        border-radius: 6px;
        cursor: pointer;
    }
</style>
</head>
<body>
<header>
    ArtaVista Manager
    <button class="dark-toggle" onclick="toggleDarkMode()">Toggle Dark Mode</button>
</header>
<div class="container">
    <!-- Add Product -->
    <div class="card">
        <h2 class="section-title">Add New Product</h2>
        <input type="text" id="productName" placeholder="Product Name">
        <input type="number" id="productPrice" placeholder="Price">
        <select id="productCategory">
            <option value="Artwork">Artwork</option>
            <option value="Slime">Slime</option>
            <option value="DIY Kit">DIY Kit</option>
        </select>
        <input type="file" id="productImage" accept="image/*">
        <button onclick="addProduct()">Add Product</button>
    </div>

    <!-- Product List -->
    <div class="card product-list">
        <h2 class="section-title">Product List</h2>
        <table id="productTable">
            <thead>
                <tr><th>Image</th><th>Name</th><th>Price</th><th>Category</th><th>Action</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- Orders -->
    <div class="card order-list">
        <h2 class="section-title">Orders</h2>
        <table id="orderTable">
            <thead>
                <tr><th>Customer</th><th>Phone</th><th>Address</th><th>Items</th><th>Total</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<script>
    let products = JSON.parse(localStorage.getItem('products')) || [];
    let orders = JSON.parse(localStorage.getItem('orders')) || [];

    const productTable = document.querySelector('#productTable tbody');
    const orderTable = document.querySelector('#orderTable tbody');

    function renderProducts() {
        productTable.innerHTML = '';
        products.forEach((p, index) => {
            productTable.innerHTML += `
                <tr>
                    <td><img src="${p.image}" alt="img"></td>
                    <td>${p.name}</td>
                    <td>₹${p.price}</td>
                    <td>${p.category}</td>
                    <td><button onclick="deleteProduct(${index})">Delete</button></td>
                </tr>`;
        });
    }

    function renderOrders() {
        orderTable.innerHTML = '';
        orders.forEach(order => {
            orderTable.innerHTML += `
                <tr>
                    <td>${order.name}</td>
                    <td>${order.phone}</td>
                    <td>${order.address}</td>
                    <td>${order.items.map(i => i.name + ' (x' + i.qty + ')').join(', ')}</td>
                    <td>₹${order.total}</td>
                </tr>`;
        });
    }

    function addProduct() {
        const name = document.getElementById('productName').value;
        const price = document.getElementById('productPrice').value;
        const category = document.getElementById('productCategory').value;
        const imageFile = document.getElementById('productImage').files[0];

        if (!name || !price || !imageFile) {
            alert('Please fill all fields and upload an image');
            return;
        }

        const reader = new FileReader();
        reader.onload = function(e) {
            const newProduct = { name, price, category, image: e.target.result };
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            renderProducts();
        }
        reader.readAsDataURL(imageFile);
    }

    function deleteProduct(index) {
        if(confirm('Delete this product?')) {
            products.splice(index, 1);
            localStorage.setItem('products', JSON.stringify(products));
            renderProducts();
        }
    }

    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    }

    if(localStorage.getItem('darkMode') === 'true') {
        document.body.classList.add('dark-mode');
    }

    renderProducts();
    renderOrders();
</script>
</body>
</html>
